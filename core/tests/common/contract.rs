use alloy::sol;

sol! {
    #[sol(rpc, bytecode="0x6080604052346102b757604051601f61263138819003918201601f19168301916001600160401b0383118484101761015a578084926020946040528339810103126102b757516001600160a01b038116908190036102b75780156102a4575f8181525f5160206125f15f395f51905f52602052604090205465ffffffffffff161580156101825765ffffffffffff610096426102bb565b1665ffffffffffff811161016e578060405191604083019383851060018060401b0386111761015a5760409485529183525f60208085018281528783525f5160206125f15f395f51905f529091529481209351845495516001600160a01b031990961665ffffffffffff919091161760309590951b600160301b600160a01b0316949094179092555f5160206126115f395f51905f52916060915b65ffffffffffff604051928684521660208301526040820152a360405161230690816102eb8239f35b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f8281525f5160206125f15f395f51905f526020526040902054906101a6426102bb565b63ffffffff8360301c169265ffffffffffff808260701c1692168211155f146102925750505b63ffffffff8216801561028b5763ffffffff811161016e575b65ffffffffffff63ffffffff6101fa426102bb565b921691160165ffffffffffff811161016e575f8481525f5160206125f15f395f51905f52602090815260408083208054600160301b600160a01b0319169185901b6dffffffffffff0000000000000000169690921b67ffffffff00000000169590951760301b600160301b600160a01b0316949094179093555f5160206126115f395f51905f529160609190610131565b505f6101e5565b63ffffffff9060501c169250506101cc565b630409d6d160e11b5f525f60045260245ffd5b5f80fd5b65ffffffffffff81116102d35765ffffffffffff1690565b6306dfcc6560e41b5f52603060045260245260445ffdfe60806040526004361015610011575f80fd5b5f5f3560e01c806308d6122d146115165780630b0a93ba146114d157806312be8727146114ae578063167bd3951461142357806318ff183c146113915780631cff79cd1461126857806325c471a014610f5f5780633078f11414610f0457806330cae18714610e665780633adc277a14610e375780633ca7c02a14610e155780634136a33c14610de25780634665096d14610dc45780634c1da1e214610d925780635296295214610cda578063530dd45614610c865780636d5115bd14610c2657806375b238fc14610c0a578063853551b814610b5057806394c7d7ee14610a8a578063a166aa8914610a3e578063a64d95ce14610932578063abd9bd2a1461090d578063ac9650d81461074d578063b700961314610708578063b7d2b162146106d5578063cc1b6c81146106b7578063d1f856ee14610672578063d22b5989146105a3578063d6bb62c6146103ef578063f801a698146101cc5763fe0776f51461017a575f80fd5b346101c95760403660031901126101c957610193611653565b61019b61160d565b90336001600160a01b038316036101ba57906101b691611cf4565b5080f35b635f159e6360e01b8352600483fd5b80fd5b50346101c95760603660031901126101c9576101e66115f7565b906024356001600160401b0381116103eb5761020690369060040161167f565b919060443565ffffffffffff81168091036103e75761022784838733611af7565b905061024363ffffffff61023a426122a1565b92168092611a26565b901580156103cc575b610393579065ffffffffffff809216908180821191180218169061027284828733611899565b93848452600260205265ffffffffffff6040852054168015159081610382575b5061036e57604095849361035f87947f82a2da5dee54ea8021c6545b4444620291e07ee83be6dd57edb175062715f3b494868b99526002602052600163ffffffff8a8a205460301c160163ffffffff81169989898c9b52600260205281812065ffffffffffff881665ffffffffffff198254161790558981526002602052209069ffffffff00000000000082549160301b169069ffffffff00000000000019161790558a51948594855233602086015260018060a01b03168b850152608060608501526080840191611879565b0390a382519182526020820152f35b63813e945960e01b84526004859052602484fd5b61038c9150611cc0565b155f610292565b606484876103a18887611b3e565b6381c6f24b60e01b8352336004526001600160a01b039091166024526001600160e01b031916604452fd5b50811515801561024c575065ffffffffffff8116821061024c565b8280fd5b5080fd5b50346101c9576104179061040236611702565b61040f8183949793611b3e565b928685611899565b91828452600260205265ffffffffffff604085205416155f146104485763060a299b60e41b84526004839052602484fd5b6001600160a01b0316903382036104ba575b505060209250808252600283526040822065ffffffffffff1981541690558082526002835263ffffffff604083205460301c1680917fbd9ac67a6e2f6463b80927326310338bcbb4bdb7936ce1365ea3e01067e7b9f76040519480a38152f35b65ffffffffffff946104cc335f6117d5565b50509616958615159687610586575b505060018060a01b03169485855284602052604085209163ffffffff60e01b16918286526020526105433361053e6001600160401b036040892054166001600160401b03165f5260016020526001600160401b03600160405f20015460401c1690565b6119d0565b509015908161057d575b501561045a57608492508460405192630ff89d4760e21b8452336004850152602484015260448301526064820152fd5b9050155f61054d565b90965065ffffffffffff610599426122a1565b161015955f6104db565b50346101c95760403660031901126101c9576105bd6115f7565b7fa56b76017453f399ec2327ba00375dbfb1fd070ff854341ad6191e6a2e2de19c6105e66116ef565b916105ef611a58565b60018060a01b03169182845283602052610619816001600160701b0360016040882001541661220e565b9190848652856020526001600160701b036001604088200191166001600160701b031982541617905561066c6040519283928390929165ffffffffffff60209163ffffffff604085019616845216910152565b0390a280f35b50346101c95760403660031901126101c95761069d61068f611653565b61069761160d565b906119d0565b60408051921515835263ffffffff91909116602083015290f35b50346101c957806003193601126101c9576020604051620697808152f35b50346101c95760403660031901126101c9576101b66106f2611653565b6106fa61160d565b90610703611a58565b611cf4565b50346101c95760603660031901126101c9576107226115f7565b61072a61160d565b604435916001600160e01b0319831683036107495761069d9350611927565b8380fd5b50346101c95760203660031901126101c9576004356001600160401b0381116103eb5761077e903690600401611623565b90602060405161078e8282611785565b84815281810191601f1981013684376107a6856118e8565b936107b46040519586611785565b858552601f196107c3876118e8565b01875b8181106108fe57505036819003601e190190875b87811015610886578060051b82013583811215610882578201908135916001600160401b03831161087e5785018a83360382136101c95780610862928961084e6001978b8e6040519483869484860198893784019083820190898252519283915e010185815203601f198101835282611785565b5190305af461085b611c54565b90306121b0565b61086c828a6118ff565b5261087781896118ff565b50016107da565b8a80fd5b8980fd5b88848860405191808301818452825180915260408401918060408360051b870101940192865b8388106108b95786860387f35b9091929394838080600193603f198b8203018752818a518051918291828552018484015e86838284010152601f801991011601019701930197019690939291936108ac565b606087820185015283016107c6565b50346101c957602061092a61092136611702565b92919091611899565b604051908152f35b50346101c95760403660031901126101c95761094c611653565b6001600160401b0361095c6116ef565b91610965611a58565b16906001600160401b038214610a2a577ffeb69018ee8b8fd50ea86348f1267d07673379f72cffdeccec63853ee8ce8b489082845260016020526109bc816001600160701b03600160408820015460801c1661220e565b84865260016020818152604080892090920180546dffffffffffffffffffffffffffff60801b191660809590951b6dffffffffffffffffffffffffffff60801b1694909417909355805163ffffffff909416845265ffffffffffff909116918301919091528190810161066c565b63061c6a4360e21b83526004829052602483fd5b50346101c95760203660031901126101c9576020610a80610a5d6115f7565b6001600160a01b03165f9081526020819052604090206001015460701c60ff1690565b6040519015158152f35b50346101c957610a99366116ac565b91604051638fb3603760e01b8152602081600481335afa908115610b45578591610afe575b506001600160e01b03191663704c9fc960e01b01610aeb5791610ae6916101b6933390611899565b611b54565b630641fee960e31b845233600452602484fd5b90506020813d602011610b3d575b81610b1960209383611785565b81010312610b3957516001600160e01b031981168103610b39575f610abe565b8480fd5b3d9150610b0c565b6040513d87823e3d90fd5b50346101c95760403660031901126101c957610b6a611653565b602435906001600160401b0382116103e757610b926001600160401b0392369060040161167f565b929091610b9d611a58565b169182158015610bfa575b610be657907f1256f5b5ecb89caec12db449738f2fbcd1ba5806cf38f35413f4e5c15bf6a4509161066c604051928392602084526020840191611879565b63061c6a4360e21b84526004839052602484fd5b506001600160401b038314610ba8565b50346101c957806003193601126101c957602090604051908152f35b50346101c95760403660031901126101c957610c406115f7565b6024359063ffffffff60e01b82168092036103e7576001600160a01b0316825260208281526040808420928452918152918190205490516001600160401b039091168152f35b50346101c95760203660031901126101c9576020610cc9610ca5611653565b6001600160401b03165f5260016020526001600160401b03600160405f2001541690565b6001600160401b0360405191168152f35b50346101c95760403660031901126101c957610cf4611653565b6001600160401b03610d04611669565b91610d0d611a58565b169081158015610d82575b610a2a576001600160401b0390828452600160205260016040852001805467ffffffffffffffff60401b8360401b169067ffffffffffffffff60401b191617905516907f7a8059630b897b5de4c08ade69f8b90c3ead1f8596d62d10b6c4d14a0afb4ae28380a380f35b506001600160401b038214610d18565b50346101c95760203660031901126101c9576020610db6610db16115f7565b611852565b63ffffffff60405191168152f35b50346101c957806003193601126101c957602060405162093a808152f35b50346101c95760203660031901126101c95763ffffffff6040602092600435815260028452205460301c16604051908152f35b50346101c957806003193601126101c95760206040516001600160401b038152f35b50346101c95760203660031901126101c9576020610e56600435611828565b65ffffffffffff60405191168152f35b50346101c95760403660031901126101c957610e80611653565b6001600160401b03610e90611669565b91610e99611a58565b169081158015610ef4575b610a2a576001600160401b0390828452600160205260016040852001828216831982541617905516907f1fd6dd7631312dfac2205b52913f99de03b4d7e381d5d27d3dbfe0713e6e63408380a380f35b506001600160401b038214610ea4565b50346101c95760403660031901126101c957608063ffffffff65ffffffffffff81610f3e610f30611653565b610f3861160d565b906117d5565b93929590918560405197168752166020860152166040840152166060820152f35b50346101c95760603660031901126101c957610f79611653565b610f8161160d565b906044359163ffffffff831680930361074957610f9c611a58565b6001600160401b03610fad83611754565b9216916001600160401b038314611254578285526001602090815260408087206001600160a01b0385165f908152925290205465ffffffffffff16159081156110f25761100a9063ffffffff611002426122a1565b911690611a26565b604051604081018181106001600160401b038211176110de577ff98448b987f1428e0e230e1f3c6e2ce15b5693eaf31827fbd0b1ec4b424ae7cf94926110bf6060959365ffffffffffff9360405283831681526001600160701b03602082018b81528a8d52600160205260408d2060018060a01b0389165f52602052858060405f209451161686198454161783555116600160301b600160a01b0382549160301b1690600160301b600160a01b031916179055565b60408051988952911660208801528601526001600160a01b031693a380f35b634e487b7160e01b88526041600452602488fd5b5082855260016020526040852060018060a01b0383165f526020526111266001600160701b0360405f205460301c16611c83565b50508463ffffffff82168181115f1461120b570363ffffffff81116111f7579165ffffffffffff7ff98448b987f1428e0e230e1f3c6e2ce15b5693eaf31827fbd0b1ec4b424ae7cf94926111f267ffffffff0000000061119763ffffffff6060985b16611192426122a1565b611a26565b9260201b1665ffffffffffff60401b8360401b16178917888b52600160205260408b2060018060a01b0387165f5260205260405f2090600160301b600160a01b0382549160301b1690600160301b600160a01b031916179055565b6110bf565b634e487b7160e01b87526011600452602487fd5b50509160609165ffffffffffff7ff98448b987f1428e0e230e1f3c6e2ce15b5693eaf31827fbd0b1ec4b424ae7cf946111f267ffffffff0000000061119763ffffffff8c611188565b63061c6a4360e21b85526004839052602485fd5b50611272366116ac565b9161127f83838333611af7565b93901580611383575b6113755761129881848433611899565b63ffffffff8695161580159061135c575b61134a575b50600354926112c66112c08383611b3e565b84611c21565b600355856112d3836117ba565b916112e16040519384611785565b838352602083019336818301116103e757806020928637830101523447106113335794806113219392602097519034855af161131b611c54565b916121b0565b5060035563ffffffff60405191168152f35b63cf47918160e01b86524760045234602452604486fd5b611355919450611b54565b925f6112ae565b5065ffffffffffff61136d82611828565b1615156112a9565b906103a18592606494611b3e565b5063ffffffff841615611288565b503461141f57604036600319011261141f576113ab6115f7565b6113b361160d565b906113bc611a58565b6001600160a01b031690813b1561141f57604051637a9e5e4b60e01b81526001600160a01b039091166004820152905f908290602490829084905af1801561141457611406575080f35b61141291505f90611785565b005b6040513d5f823e3d90fd5b5f80fd5b3461141f57604036600319011261141f5761143c6115f7565b6024359081151580920361141f5760207f90d4e7bb7e5d933792b3562e1741306f8be94837e1348dacef9b6f1df56eb13891611476611a58565b6001600160a01b03165f818152808352604090819020600101805460ff60701b1916607087901b60ff60701b161790555193845292a2005b3461141f57602036600319011261141f576020610db66114cc611653565b611754565b3461141f57602036600319011261141f576020610cc96114ef611653565b6001600160401b03165f5260016020526001600160401b03600160405f20015460401c1690565b3461141f57606036600319011261141f5761152f6115f7565b6024356001600160401b03811161141f5761154e903690600401611623565b9190604435906001600160401b03821680920361141f57611570939293611a58565b6001600160a01b03909316925f5b83811015611412578060051b8201359063ffffffff60e01b821680920361141f5783867f9ea6790c7dadfd01c9f8b9762b3682607af2c7e79e05a9f9fdf5580dde9491516020600195835f525f825260405f20815f52825260405f20856001600160401b0319825416179055604051908152a30161157e565b600435906001600160a01b038216820361141f57565b602435906001600160a01b038216820361141f57565b9181601f8401121561141f578235916001600160401b03831161141f576020808501948460051b01011161141f57565b600435906001600160401b038216820361141f57565b602435906001600160401b038216820361141f57565b9181601f8401121561141f578235916001600160401b03831161141f576020838186019501011161141f57565b90604060031983011261141f576004356001600160a01b038116810361141f5791602435906001600160401b03821161141f576116eb9160040161167f565b9091565b6024359063ffffffff8216820361141f57565b606060031982011261141f576004356001600160a01b038116810361141f57916024356001600160a01b038116810361141f5791604435906001600160401b03821161141f576116eb9160040161167f565b6001600160401b03165f5260016020526117806001600160701b03600160405f20015460801c16611c83565b505090565b90601f801991011681019081106001600160401b038211176117a657604052565b634e487b7160e01b5f52604160045260245ffd5b6001600160401b0381116117a657601f01601f191660200190565b6001600160401b03165f9081526001602090815260408083206001600160a01b039094168352929052205465ffffffffffff9161181e603083901c6001600160701b0316611c83565b9490931693909291565b5f52600260205265ffffffffffff60405f20541661184581611cc0565b1561184f57505f90565b90565b60018060a01b03165f525f6020526117806001600160701b03600160405f20015416611c83565b908060209392818452848401375f828201840152601f01601f1916010190565b604080516001600160a01b039283166020820190815292909316908301526060808301529290916118e29183916118d4916080840191611879565b03601f198101835282611785565b51902090565b6001600160401b0381116117a65760051b60200190565b80518210156119135760209160051b010190565b634e487b7160e01b5f52603260045260245ffd5b6001600160a01b0382165f9081526020819052604090206001015491929160701c60ff1615611959575050505f905f90565b6001600160a01b038116300361197d57506119779060035492611c21565b14905f90565b906119b69260018060a01b03165f525f60205260405f209063ffffffff60e01b165f526020526001600160401b0360405f2054166119d0565b9190156119c95763ffffffff8216159190565b5f91508190565b6001600160401b03818116036119e95750506001905f90565b65ffffffffffff92916119fb916117d5565b505092168015159081611a0d57509190565b905065ffffffffffff611a1f426122a1565b1610159190565b9065ffffffffffff8091169116019065ffffffffffff8211611a4457565b634e487b7160e01b5f52601160045260245ffd5b611a623633611da3565b9015611a6b5750565b63ffffffff16611aa0576001600160401b03611a8636611e8a565b50905063f07e038f60e01b5f52336004521660245260445ffd5b611af46040516020810190338252306040820152606080820152611aec81602060808201368152365f838301375f823683010152601f19601f360116010103601f198101835282611785565b519020611b54565b50565b909291906001600160a01b0384163003611b15576116eb9350611e4f565b9192906004841015611b2b57505050505f905f90565b6116eb93611b3891611b3e565b91611927565b9060041161141f57356001600160e01b03191690565b5f81815260026020526040902054909190603081901c63ffffffff169065ffffffffffff1680611b91578363060a299b60e41b5f5260045260245ffd5b65ffffffffffff611ba1426122a1565b16811115611bbc5783630c65b5bd60e11b5f5260045260245ffd5b611bc99093919293611cc0565b611c0f578190805f52600260205260405f2065ffffffffffff1981541690557f76a2a46953689d4861a5d3f6ed883ad7e6af674a21f8e162707159fc9dde614d5f80a390565b631e2975b960e21b5f5260045260245ffd5b604080516001600160a01b03909216602083019081526001600160e01b03199093168282015281526118e2606082611785565b3d15611c7e573d90611c65826117ba565b91611c736040519384611785565b82523d5f602084013e565b606090565b611c8c426122a1565b63ffffffff82169165ffffffffffff604082901c811692168211611cb4575090915f91508190565b60201c63ffffffff1692565b65ffffffffffff62093a8091160165ffffffffffff8111611a445765ffffffffffff80611cec426122a1565b169116111590565b6001600160401b0316906001600160401b038214611d9057815f52600160205260405f2060018060a01b0382165f5260205265ffffffffffff60405f20541615611d8a57815f52600160205260405f2060018060a01b0382165f526020525f604081205560018060a01b0316907ff229baa593af28c41b1d16b748cd7688f0c83aaf92d4be41c44005defe84c1665f80a3600190565b50505f90565b5063061c6a4360e21b5f5260045260245ffd5b9060048110611dff576001600160a01b0382163014611e2e57611dc6905f612032565b9290911580611e10575b611e0757611ddd916119d0565b9015611dff5763ffffffff808093169116908180821191180218169081159190565b50505f905f90565b5050505f905f90565b50305f9081526020819052604090206001015460701c60ff16611dd0565b905060041161141f576003546119775f356001600160e01b03191630611c21565b919060048210611e07576001600160a01b0383163014611e735790611dc691612032565b611e7d9250611b3e565b6119776003549130611c21565b5f9060048110612028578060041161141f575f356001600160e01b031916906310a6aa3760e31b82148015612018575b8015612008575b8015611ff8575b8015611fe8575b611fdc5763063fc60f60e21b82148015611fcc575b8015611fbc575b611f8c5763012e238d60e51b82148015611f7c575b611f2b575030825281602052604082209082526020526001600160401b036040822054169181929190565b90506024116101c957806101c957506004356001600160401b038116810361141f57611f75906001600160401b03165f5260016020526001600160401b03600160405f2001541690565b6001915f90565b50635be958b160e11b8214611f00565b91505060241161141f576004356001600160a01b0381169081900361141f57611fb490611852565b6001915f9190565b506308d6122d60e01b8214611eeb565b5063167bd39560e01b8214611ee4565b5050506001905f905f90565b5063d22b598960e01b8214611ecf565b50635326cae760e11b8214611ec8565b5063294b14a960e11b8214611ec1565b506330cae18760e01b8214611eba565b50505f905f905f90565b60048210612028576001600160e01b031961204d8383611b3e565b16916310a6aa3760e31b831480156121a0575b8015612190575b8015612180575b8015612170575b611fdc5763063fc60f60e21b83148015612160575b8015612150575b6121295763012e238d60e51b83148015612119575b6120d3575050305f525f60205260405f20905f526020526001600160401b0360405f205416905f91905f90565b90915060241161141f57600401356001600160401b038116810361141f57611f75906001600160401b03165f5260016020526001600160401b03600160405f2001541690565b50635be958b160e11b83146120a6565b90915060241161141f576004013560018060a01b03811680910361141f57611fb490611852565b506308d6122d60e01b8314612091565b5063167bd39560e01b831461208a565b5063d22b598960e01b8314612075565b50635326cae760e11b831461206e565b5063294b14a960e11b8314612067565b506330cae18760e01b8314612060565b906121d457508051156121c557805190602001fd5b63d6bda27560e01b5f5260045ffd5b81511580612205575b6121e5575090565b639996b31560e01b5f9081526001600160a01b0391909116600452602490fd5b50803b156121dd565b61221f63ffffffff91939293611c83565b505092168063ffffffff84168181115f14612287570363ffffffff8111611a445761226d63ffffffff8067ffffffff00000000935b16806206978011816206978018021816611192426122a1565b9360201b1665ffffffffffff60401b8460401b1617179190565b505067ffffffff0000000061226d63ffffffff805f612254565b65ffffffffffff81116122b95765ffffffffffff1690565b6306dfcc6560e41b5f52603060045260245260445ffdfea26469706673582212208f0a05358e704426c0f093fe0e53a8ade4a293959896bac297ad478ab181191464736f6c634300081d0033a6eef7e35abe7026729641147f7915573c7e97b47efa546f5f6e3230263bcb49f98448b987f1428e0e230e1f3c6e2ce15b5693eaf31827fbd0b1ec4b424ae7cf")]  // paste bytecode from `out/AccessManager.sol/AccessManager.json`
    contract AccessManager {
        /// @notice constructor(address initialAdmin)
        constructor(address initialAdmin);

        function grantRole(uint64 roleId, address account, uint32 executionDelay) external;

        function setTargetFunctionRole(
            address target,
            bytes4[] memory selectors,
            uint64 roleId
        ) external;
    }
}

sol! {
    #[sol(rpc, bytecode = "0x60803460b857601f610e4338819003918201601f19168301916001600160401b0383118484101760bc5780849260209460405283398101031260b857516001600160a01b0381169081900360b8575f80546001600160a01b031916821790556040519081527f2f658b440c35314f52658ea8a740e05b284cdc84dc9ae01e891f21b8933e7cad90602090a16001805562127500600255621d0100600355621baf80600455615460600555604051610d7290816100d18239f35b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe60806040526004361015610032575b361561002357633ee6509d60e01b5f5260045ffd5b633ee6509d60e01b5f5260045ffd5b5f3560e01c80630b879bc214610a935780630d4976cb14610a2857806316bf59c8146107df578063182d3506146107c2578063226112801461076557806327b380f31461072057806338cfe6b0146106c157806347038224146106a45780634b35928f1461068757806367e4ecbe1461060a5780636f77926b146105b25780637a9e5e4b1461051257806387d81789146104ca5780638fb3603714610487578063956200d51461046a5780639ee679e8146103ce578063a165004314610386578063a5fdc5de1461034a578063bf7e214f14610323578063c5b6aa2f14610218578063d0e30db0146101b45763da0a4c2e0361000e57346101b05760203660031901126101b0576004356101463633610bcb565b80156101a15761015860045482610ae0565b6003541115610192576020817f0450cdfce12e580421713ec44389034f33bcf55ed8173759660509918e800db592600555604051908152a1005b63c3a07fef60e01b5f5260045ffd5b6365e52d5160e11b5f5260045ffd5b5f80fd5b5f3660031901126101b0576101c7610d1c565b34156101a157335f52600660205260405f206101e4348254610ae0565b90556040513481527fd7243f6f8212d5188fd054141cf6ea89cfc0d91facb8c3afe2f88a135848014260203392a260018055005b346101b0575f3660031901126101b057610230610d1c565b335f52600760205260405f2060405161024881610b3a565b60018254928383520154916020820192835215610314575160035461026c91610ae0565b421061030557335f90815260066020526040902080549151808318818410021891610298908390610b2d565b9055335f5260076020525f60016040822082815501555f80808084335af16102be610b8c565b50156102f6576040519081527fc30fcfbcaac9e0deffa719714eaa82396ff506a0d0d0eebe170830177288715d60203392a260018055005b6312171d8360e31b5f5260045ffd5b631f382f6360e21b5f5260045ffd5b6387bdc6a960e01b5f5260045ffd5b346101b0575f3660031901126101b0575f546040516001600160a01b039091168152602090f35b346101b05760203660031901126101b0576004356001600160a01b038116908190036101b0575f526006602052602060405f2054604051908152f35b346101b05760203660031901126101b0576004355f908152600860209081526040918290208054600190910154835191825260ff1615159181019190915290819081015b0390f35b346101b05760203660031901126101b05760043580156101a157335f52600660205260405f2054811161045b5760405161040781610b3a565b428152600160208201838152335f52600760205260405f2092518355519101556040519042825260208201527f24b91f4f47caf44230a57777a9be744924e82bf666f2d5702faf97df35e60f9f60403392a2005b635fe02f5960e01b5f5260045ffd5b346101b0575f3660031901126101b0576020600554604051908152f35b346101b0575f3660031901126101b0575f5460a01c60ff16156104c2576020638fb3603760e01b5b6040516001600160e01b03199091168152f35b60205f6104af565b346101b05760203660031901126101b0576004355f52600860205260405f2060ff6001825492015416906103ca60405192839283909291602090604083019483521515910152565b346101b05760203660031901126101b0576004356001600160a01b038116908181036101b0575f54906001600160a01b03821633036105a0573b1561058d576001600160a01b03191681175f556040519081527f2f658b440c35314f52658ea8a740e05b284cdc84dc9ae01e891f21b8933e7cad90602090a1005b506361798f2f60e11b5f5260045260245ffd5b62d1953b60e31b5f523360045260245ffd5b346101b05760203660031901126101b0576004356001600160a01b038116908190036101b0575f9081526006602090815260408083205460078352928190208054600190910154825194855292840152820152606090f35b346101b05760203660031901126101b0576004356106283633610bcb565b80156101a15761063a81600554610ae0565b6003541180159061067b575b610192576020817fa637bd3c6f0b945cca705799c6e048fb8290732846f363d5d302f115b54c999e92600455604051908152a1005b50806002541015610646565b346101b0575f3660031901126101b0576020600354604051908152f35b346101b0575f3660031901126101b0576020600254604051908152f35b346101b05760203660031901126101b0576004356106df3633610bcb565b80156101a157600454811015610192576020817f1601be03cd5bb7a25feb6a24b86b483874bcc79dbd70679649defd556c4e0ca192600255604051908152a1005b346101b05760203660031901126101b0576004356001600160a01b038116908190036101b0575f5260076020526040805f206001815491015482519182526020820152f35b346101b0575f3660031901126101b057335f52600760205260405f20541561031457335f5260076020525f6001604082208281550155337f2c149134fe0030fa8b86362e124b3379a0d5bf7e1c0f487a35a06f89bbf60cee5f80a2005b346101b0575f3660031901126101b0576020600454604051908152f35b346101b057366003190161012081126101b05760c0136101b05736610124116101b05761080a610d1c565b60a43580156101a1576001600160a01b03610823610b01565b1615610a19576024359061083960025483610ae0565b4210610a0a574261084c60045484610ae0565b106109fb5760043591825f52600860205260ff600160405f200154166109ec57825f5260086020528160405f205410156109dd5760c435158015906109d2575b80156109c6575b6109b7576001600160a01b036108a7610b17565b165f5260066020528160405f2054106109a8576001600160a01b036108ca610b17565b165f52600660205260405f206108e1838254610b2d565b90555f8381526008602052604090206001908101805460ff191690911790556001600160a01b03610910610b17565b165f52600760205260405f209061092b825460055490610ae0565b11610989575b505f808080846001600160a01b03610947610b01565b165af1610952610b8c565b50156102f65760207f67b10e1506dba7074ef4bdcda0c6da69e455765d4390b5554291b2e93556664991604051908152a260018055005b6001016109a0815483811084821802841890610b2d565b905582610931565b638d5e4a7f60e01b5f5260045ffd5b638baa579f60e01b5f5260045ffd5b50610104351515610893565b5060e435151561088c565b63770a20b360e01b5f5260045ffd5b633bfaf45d60e11b5f5260045ffd5b6370d932af60e01b5f5260045ffd5b630d544bb160e01b5f5260045ffd5b634e46966960e11b5f5260045ffd5b346101b05760203660031901126101b057600435610a463633610bcb565b80156101a15780610a5c60055460045490610ae0565b1015610192576020817f2fab9f1ccb93f5baaaae3bf36ce5faf9487fb064a4fcf35d1be91153c8b3450d92600355604051908152a1005b346101b05760403660031901126101b057602435610ab13633610bcb565b80156101a157610abf610d1c565b6004355f526008602052610ad860405f20918254610ae0565b905560018055005b91908201809211610aed57565b634e487b7160e01b5f52601160045260245ffd5b6064356001600160a01b03811681036101b05790565b6044356001600160a01b03811681036101b05790565b91908203918211610aed57565b6040810190811067ffffffffffffffff821117610b5657604052565b634e487b7160e01b5f52604160045260245ffd5b90601f8019910116810190811067ffffffffffffffff821117610b5657604052565b3d15610bc6573d9067ffffffffffffffff8211610b565760405191610bbb601f8201601f191660200184610b6a565b82523d5f602084013e565b606090565b5f805490926001600160a01b0382169291600482106101b0575f5f9060405f815196602088019063b700961360e01b825260018060a01b03169788602482015230604482015263ffffffff60e01b833516606482015260648152610c30608482610b6a565b828052826020525190895afa610d09575b15610c4f575b505050505050565b63ffffffff1615610cf75760ff60a01b1916600160a01b175f55823b156101b0576064925f9283604051958680958194634a63ebf760e11b83526004830152604060248301528060448301528084848401378181018301849052601f01601f191681010301925af18015610cec57610cd9575b50805460ff60a01b191690555f8080808080610c47565b610ce591505f90610b6a565b5f5f610cc2565b6040513d5f823e3d90fd5b8262d1953b60e31b5f5260045260245ffd5b50505f516020518060201c150290610c41565b600260015414610d2d576002600155565b633ee5aeb560e01b5f5260045ffdfea264697066735822122002bcd2badb33260d4a3b60a72202527d23d13e9fc279bed45b2e59c8ac01f62164736f6c634300081d0033")]
    contract Core4Mica {
        // Public state variables
        uint256 public remunerationGracePeriod;
        uint256 public withdrawalGracePeriod;
        uint256 public tabExpirationTime;
        uint256 public synchronizationDelay;

        mapping(address => uint256) public collateral;
        struct WithdrawalRequest {
            uint256 timestamp;
            uint256 amount;
        }
        mapping(address => WithdrawalRequest) public withdrawalRequests;
        struct Payment {
            uint256 paid;
            bool remunerated;
        }
        mapping(uint256 => Payment) public payments;

        // Events
        event CollateralDeposited(address indexed user, uint256 amount);
        event RecipientRemunerated(uint256 indexed tab_id, uint256 amount);
        event CollateralWithdrawn(address indexed user, uint256 amount);
        event WithdrawalRequested(address indexed user, uint256 when, uint256 amount);
        event WithdrawalCanceled(address indexed user);
        event WithdrawalGracePeriodUpdated(uint256 newGracePeriod);
        event RemunerationGracePeriodUpdated(uint256 newGracePeriod);
        event TabExpirationTimeUpdated(uint256 newExpirationTime);
        event SynchronizationDelayUpdated(uint256 newSynchronizationDelay);

        // Structs
        struct Guarantee {
            uint256 tab_id;
            uint256 tab_timestamp;
            address client;
            address recipient;
            uint256 req_id;
            uint256 amount;
        }

        // Constructor
        constructor(address manager);

        // User flows
        function deposit() external payable;
        function requestWithdrawal(uint256 amount) external;
        function cancelWithdrawal() external;
        function finalizeWithdrawal() external;
        function remunerate(Guarantee calldata g, bytes32[3] calldata signature) external;

        // Admin / Manager
        function setRemunerationGracePeriod(uint256 _gracePeriod) external;
        function setWithdrawalGracePeriod(uint256 _gracePeriod) external;
        function setTabExpirationTime(uint256 _expirationTime) external;
        function setSynchronizationDelay(uint256 _synchronizationDelay) external;
        function recordPayment(uint256 tab_id, uint256 amount) external;

        // Views
        function getUser(address userAddr)
            external
            view
            returns (uint256 _collateral, uint256 withdrawal_request_timestamp, uint256 withdrawal_request_amount);

        function getPaymentStatus(uint256 tab_id)
            external
            view
            returns (uint256 paid, bool remunerated);
    }
}
